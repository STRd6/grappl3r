Levels
======

    {width, height} = require "./pixie"

    {defaults, extend} = require "util"

    Line = require "./lib/line"

    bg = (name, options={}) ->
      engine.add "Background", extend
        x: width
        y: height
        spriteName: name
        scale: 1
        zIndex: -1000
      , options

    line = (data) ->
      Line
        start: Point data.start
        end: Point data.end

    lines = (lines) ->
      engine.add "Wall",
        lines: lines.map line

    module.exports = [
      # 0
      ->
        bg "sandcastles",
          scale: 2
        
        lines [{"start":{"x":2721.4984961607843,"y":-78.92233461754978},"end":{"x":2727.4984961600353,"y":469.0776653786884}},{"start":{"x":691.2435993178137,"y":-772.6674376277103},"end":{"x":1245.486219812066,"y":-774.9100582661232}},{"start":{"x":1245.486219812066,"y":-774.9100582661232},"end":{"x":1601.7684250429004,"y":-779.9223295064389}},{"start":{"x":1601.7684250429004,"y":-779.9223295064389},"end":{"x":1908.795989831103,"y":-784.9223346194731}},{"start":{"x":1908.795989831103,"y":-784.9223346194731},"end":{"x":2229.900408020724,"y":-774.9223346213731}},{"start":{"x":2229.900408020724,"y":-774.9223346213731},"end":{"x":2712.1929158099156,"y":-782.9223346213732}},{"start":{"x":2712.1929158099156,"y":-782.9223346213732},"end":{"x":3067.2839897278272,"y":-776.9223346213732}},{"start":{"x":3067.2839897278272,"y":-776.9223346213732},"end":{"x":3078.4869122731134,"y":-237.92233462137324}},{"start":{"x":3078.4869122731134,"y":-237.92233462137324},"end":{"x":3071.4984961600053,"y":227.0776436897628}},{"start":{"x":3071.4984961600053,"y":227.0776436897628},"end":{"x":3071.498496160018,"y":665.9470557152054}},{"start":{"x":3071.498496160018,"y":665.9470557152054},"end":{"x":3072.498496160018,"y":968.0480496572035}},{"start":{"x":3072.498496160018,"y":968.0480496572035},"end":{"x":3071.498496160018,"y":1176.0767260110847}},{"start":{"x":-169.50150383997737,"y":615.0801638654009},"end":{"x":-54.4891165679378,"y":300.233326628348}},{"start":{"x":-54.4891165679378,"y":300.233326628348},"end":{"x":-10.4891165679378,"y":301.233326628348}},{"start":{"x":-10.4891165679378,"y":301.233326628348},"end":{"x":28.5108834320622,"y":595.233326628348}},{"start":{"x":28.5108834320622,"y":595.233326628348},"end":{"x":123.5108834320622,"y":596.233326628348}},{"start":{"x":123.5108834320622,"y":596.233326628348},"end":{"x":160.5108834320622,"y":380.233326628348}},{"start":{"x":160.5108834320622,"y":380.233326628348},"end":{"x":284.5108834320622,"y":386.233326628348}},{"start":{"x":394.4998651053479,"y":88.23927302689225},"end":{"x":284.5108834320622,"y":386.233326628348}},{"start":{"x":394.4998651053479,"y":88.23927302689225},"end":{"x":429.5108823342689,"y":89.23332722080787}},{"start":{"x":429.5108823342689,"y":89.23332722080787},"end":{"x":479.5108833727786,"y":283.2333266603423}},{"start":{"x":479.5108833727786,"y":283.2333266603423},"end":{"x":721.5108834315779,"y":289.2333266286093}},{"start":{"x":721.5108834315779,"y":289.2333266286093},"end":{"x":778.5097996655704,"y":288.2333975289598}},{"start":{"x":778.5097996655704,"y":288.2333975289598},"end":{"x":788.510883072902,"y":110.23332665184466}},{"start":{"x":788.510883072902,"y":110.23332665184466},"end":{"x":806.5108834183035,"y":82.23332662924832}},{"start":{"x":806.5108834183035,"y":82.23332662924832},"end":{"x":856.510883431319,"y":62.23332662839681}},{"start":{"x":691.2435993178137,"y":-772.6674376277103},"end":{"x":89.31308601230182,"y":-777.739170998046}},{"start":{"x":89.31308601230182,"y":-777.739170998046},"end":{"x":-537.6748172453404,"y":-778.7391609229996}},{"start":{"x":-537.6748172453404,"y":-778.7391609229996},"end":{"x":-1023.6447941203405,"y":-777.7391609229996}},{"start":{"x":-1023.6447941203405,"y":-777.7391609229996},"end":{"x":-1023.6868671297921,"y":-365.73916092299964}},{"start":{"x":-1023.6868671297921,"y":-365.73916092299964},"end":{"x":-1025.6870219545463,"y":91.10870178219722}},{"start":{"x":-1025.6870219545463,"y":91.10870178219722},"end":{"x":-1026.6870219562984,"y":637.2284194128437}},{"start":{"x":-1026.6870219562984,"y":637.2284194128437},"end":{"x":-1024.6870219562984,"y":942.2479162571077}},{"start":{"x":-1024.6870219562984,"y":942.2479162571077},"end":{"x":-1023.6870219562984,"y":1109.5315813946117}},{"start":{"x":-1023.6870219562984,"y":1109.5315813946117},"end":{"x":-1026.6870219562984,"y":1190.0536357321637}},{"start":{"x":-1026.6870219562984,"y":1190.0536357321637},"end":{"x":-430.6870219562984,"y":1001.2608317078343}},{"start":{"x":-169.50150383997737,"y":615.0801638654009},"end":{"x":-212.67586669148216,"y":796.2661999487709}},{"start":{"x":-212.67586669148216,"y":796.2661999487709},"end":{"x":-430.6870219562984,"y":1001.2608317078343}},{"start":{"x":856.510883431319,"y":62.23332662839681},"end":{"x":879.3129120466906,"y":-284.7450060359554}},{"start":{"x":979.0890007359958,"y":-598.5006943716885},"end":{"x":879.3129120466906,"y":-284.7450060359554}},{"start":{"x":979.0890007359958,"y":-598.5006943716885},"end":{"x":1010.3129735492212,"y":-599.7391561377682}},{"start":{"x":1010.3129735492212,"y":-599.7391561377682},"end":{"x":1100.3129779283597,"y":-283.73916080019603}},{"start":{"x":1100.3129779283597,"y":-283.73916080019603},"end":{"x":1126.3129780436986,"y":81.24430456007173}},{"start":{"x":1126.3129780436986,"y":81.24430456007173},"end":{"x":1403.3129780436986,"y":89.26041475520509}},{"start":{"x":1403.3129780436986,"y":89.26041475520509},"end":{"x":1414.3129780436986,"y":-167.73918383744285}},{"start":{"x":1523.3961318309257,"y":-529.8223147236829},"end":{"x":1414.3129780436986,"y":-167.73918383744285}},{"start":{"x":1523.3961318309257,"y":-529.8223147236829},"end":{"x":1559.3129053857854,"y":-520.7390882650843}},{"start":{"x":1559.3129053857854,"y":-520.7390882650843},"end":{"x":1647.3129754151612,"y":-183.73915829445866}},{"start":{"x":1647.3129754151612,"y":-183.73915829445866},"end":{"x":1670.254810385636,"y":126.19576729381788}},{"start":{"x":1670.254810385636,"y":126.19576729381788},"end":{"x":1720.2232872434456,"y":164.1627913336951}},{"start":{"x":1720.2232872434456,"y":164.1627913336951},"end":{"x":1738.3129700739712,"y":421.2280106122402}},{"start":{"x":1738.3129700739712,"y":421.2280106122402},"end":{"x":1738.3129780430318,"y":528.133366299642}},{"start":{"x":1738.3129780430318,"y":528.133366299642},"end":{"x":1943.3129780436986,"y":355.26052597809974}},{"start":{"x":2020.7531328929292,"y":159.84088099034147},"end":{"x":2006.200222384993,"y":254.37766246633805}},{"start":{"x":2006.200222384993,"y":254.37766246633805},"end":{"x":1943.3129780436986,"y":355.26052597809974}},{"start":{"x":2020.7531328929292,"y":159.84088099034147},"end":{"x":2043.312975647803,"y":126.26084155933313}},{"start":{"x":2043.312975647803,"y":126.26084155933313},"end":{"x":2183.2973695808946,"y":82.27719406209195}},{"start":{"x":2183.2973695808946,"y":82.27719406209195},"end":{"x":2215.312085501518,"y":-28.738225692266013}},{"start":{"x":2215.312085501518,"y":-28.738225692266013},"end":{"x":2250.3129325251825,"y":-28.73911322741884}},{"start":{"x":2250.3129325251825,"y":-28.73911322741884},"end":{"x":2284.3129779031383,"y":164.26083922428722}},{"start":{"x":2284.3129779031383,"y":164.26083922428722},"end":{"x":2321.3129780236177,"y":242.2608390980443}},{"start":{"x":2321.3129780236177,"y":242.2608390980443},"end":{"x":2342.1415433429183,"y":365.040413219392}},{"start":{"x":2342.1415433429183,"y":365.040413219392},"end":{"x":2410.294580143651,"y":408.2371835808963}},{"start":{"x":2410.294580143651,"y":408.2371835808963},"end":{"x":2426.312740460049,"y":626.2605335987062}},{"start":{"x":2426.312740460049,"y":626.2605335987062},"end":{"x":2439.283502504001,"y":696.1910434615199}},{"start":{"x":2439.283502504001,"y":696.1910434615199},"end":{"x":2483.312079933811,"y":791.2587124278149}},{"start":{"x":2483.312079933811,"y":791.2587124278149},"end":{"x":2692.3129204589686,"y":941.2607027211668}},{"start":{"x":2692.3129204589686,"y":941.2607027211668},"end":{"x":2839.3129754245683,"y":1041.2608328751144}},{"start":{"x":2839.3129754245683,"y":1041.2608328751144},"end":{"x":3077.498496160018,"y":1145.0776653786243}}]

        engine.add "Background",
          x: width * 2 + 50
          y: height - 100
          spriteName: "dudebro"

        engine.add "Trap",
          x: width
          y: height * 2 - 300
          scale: 0.5

        engine.add "Goal",
          x: width * 2
          y: 0
      -> # 1
        bg "insideMouth"
        
        lines [{"start":{"x":2044.8211652771097,"y":967.7001038055603},"end":{"x":1952.8211652774366,"y":1028.7001038056317}},{"start":{"x":1952.8211652774366,"y":1028.7001038056317},"end":{"x":1889.8211652774407,"y":1013.7001038056317}},{"start":{"x":1889.8211652774407,"y":1013.7001038056317},"end":{"x":1878.8211652774407,"y":965.7001038056317}},{"start":{"x":1878.8211652774407,"y":965.7001038056317},"end":{"x":1775.8211652774407,"y":1019.7001038056317}},{"start":{"x":1775.8211652774407,"y":1019.7001038056317},"end":{"x":1766.8211652774407,"y":956.7001038056317}},{"start":{"x":1766.8211652774407,"y":956.7001038056317},"end":{"x":1696.8211652774407,"y":975.7001038056317}},{"start":{"x":1696.8211652774407,"y":975.7001038056317},"end":{"x":1699.8211652774407,"y":901.7001038056317}},{"start":{"x":1699.8211652774407,"y":901.7001038056317},"end":{"x":1614.8211652774407,"y":945.7001038056317}},{"start":{"x":1614.8211652774407,"y":945.7001038056317},"end":{"x":1600.8211652774407,"y":887.7001038056317}},{"start":{"x":1600.8211652774407,"y":887.7001038056317},"end":{"x":1515.8211652774407,"y":918.7001038056317}},{"start":{"x":1515.8211652774407,"y":918.7001038056317},"end":{"x":1460.8211652774407,"y":817.7001038056317}},{"start":{"x":1460.8211652774407,"y":817.7001038056317},"end":{"x":1357.8211652774407,"y":902.7001038056317}},{"start":{"x":1357.8211652774407,"y":902.7001038056317},"end":{"x":1233.8211666759566,"y":876.7001039050522}},{"start":{"x":1233.8211666759566,"y":876.7001039050522},"end":{"x":1152.8211654363658,"y":903.7001038169298}},{"start":{"x":1152.8211654363658,"y":903.7001038169298},"end":{"x":1083.8266880599294,"y":990.7001038056327}},{"start":{"x":1083.8266880599294,"y":990.7001038056327},"end":{"x":888.8216366984683,"y":977.7001038056327}},{"start":{"x":888.8216366984683,"y":977.7001038056327},"end":{"x":804.8211907353622,"y":918.7001038056327}},{"start":{"x":804.8211907353622,"y":918.7001038056327},"end":{"x":746.8211704047952,"y":917.7001038056327}},{"start":{"x":746.8211704047952,"y":917.7001038056327},"end":{"x":668.8211652886722,"y":931.7001038056327}},{"start":{"x":668.8211652886722,"y":931.7001038056327},"end":{"x":540.8211652787172,"y":892.7001038056327}},{"start":{"x":540.8211652787172,"y":892.7001038056327},"end":{"x":458.82116527757773,"y":945.7001038056327}},{"start":{"x":458.82116527757773,"y":945.7001038056327},"end":{"x":369.821165277452,"y":974.7001038056327}},{"start":{"x":369.821165277452,"y":974.7001038056327},"end":{"x":285.98237518140195,"y":938.7646342837095}},{"start":{"x":285.98237518140195,"y":938.7646342837095},"end":{"x":199.82987101776308,"y":976.7035886137685}},{"start":{"x":199.82987101776308,"y":976.7035886137685},"end":{"x":69.82175634647672,"y":941.7003404037966}},{"start":{"x":69.82175634647672,"y":941.7003404037966},"end":{"x":-2.1788266401444503,"y":979.7001070409301}},{"start":{"x":0.8211652774412528,"y":473.6894422808508},"end":{"x":-2.1788266401444503,"y":979.7001070409301}},{"start":{"x":0.8211652774412528,"y":473.6894422808508},"end":{"x":3.821165277441253,"y":353.71145468482956}},{"start":{"x":6.821165277441253,"y":137.70044091148603},"end":{"x":3.821165277441253,"y":353.71145468482956}},{"start":{"x":6.821165277441253,"y":137.70044091148603},"end":{"x":161.82116527744125,"y":129.70010380563193}},{"start":{"x":161.82116527744125,"y":129.70010380563193},"end":{"x":199.82116527744125,"y":204.70010380563193}},{"start":{"x":199.82116527744125,"y":204.70010380563193},"end":{"x":304.82116527744125,"y":192.70010380563193}},{"start":{"x":304.82116527744125,"y":192.70010380563193},"end":{"x":390.82116527744125,"y":241.70010380563193}},{"start":{"x":390.82116527744125,"y":241.70010380563193},"end":{"x":492.82116527744125,"y":225.70010380563193}},{"start":{"x":492.82116527744125,"y":225.70010380563193},"end":{"x":601.8211652774412,"y":247.70010380563193}},{"start":{"x":601.8211652774412,"y":247.70010380563193},"end":{"x":724.8211652774412,"y":216.70010380563193}},{"start":{"x":724.8211652774412,"y":216.70010380563193},"end":{"x":808.8211652774412,"y":257.7001038056319}},{"start":{"x":808.8211652774412,"y":257.7001038056319},"end":{"x":999.7702786071045,"y":257.7001038056319}},{"start":{"x":999.7702786071045,"y":257.7001038056319},"end":{"x":1164.62085245883,"y":235.70010380563193}},{"start":{"x":1164.62085245883,"y":235.70010380563193},"end":{"x":1319.8075652043597,"y":237.70010380563193}},{"start":{"x":1319.8075652043597,"y":237.70010380563193},"end":{"x":1444.8205102703882,"y":230.70010380563193}},{"start":{"x":1444.8205102703882,"y":230.70010380563193},"end":{"x":1635.2283455625031,"y":212.70010380563193}},{"start":{"x":1635.2283455625031,"y":212.70010380563193},"end":{"x":1756.7809162733945,"y":242.70010380563193}},{"start":{"x":1756.7809162733945,"y":242.70010380563193},"end":{"x":1860.7953353647702,"y":244.70010380563193}},{"start":{"x":1860.7953353647702,"y":244.70010380563193},"end":{"x":1938.820502409878,"y":240.70010380563193}},{"start":{"x":1938.820502409878,"y":240.70010380563193},"end":{"x":2042.821138388876,"y":217.70010380563193}},{"start":{"x":2042.821138388876,"y":217.70010380563193},"end":{"x":2045.8211652774387,"y":508.7000784678124}},{"start":{"x":2044.8211652771097,"y":967.7001038055603},"end":{"x":2049.821165277439,"y":721.6992166958371}},{"start":{"x":2045.8211652774387,"y":508.7000784678124},"end":{"x":2049.821165277439,"y":721.6992166958371}},{"start":{"x":44.82116527744023,"y":500.7001038056322},"end":{"x":44.82116527744023,"y":500.7001038056322}}] 

        engine.add "Trap",
          x: width
          y: height * 2 - 300
          scale: 0.5

        engine.delay 0, ->
          engine.first("Player").position(Point(50, height))

        engine.add "Goal",
          x: width * 2
          y: height
      -> # 2
        bg "esophagous",
          y: height/2
          scale: 1.5

        lines []

        engine.add "Trap",
          x: width
          y: height * 2 - 300
          scale: 0.5

        engine.add "Goal",
          x: width * 2
          y: height
    ]
